$(document).ready(function(){var e={isModalShow:!1,scrollPos:0},t=window.innerWidth-$(document).width(),o=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),e.scrollPos=$(window).scrollTop(),$("body").css({overflowY:"hidden",top:-e.scrollPos,width:"100%",paddingRight:t})),e.isModalShow=!0},i=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:e.scrollPos,paddingRight:0}),$(window).scrollTop(e.scrollPos),$(".modal").addClass("modal-hide-animation"),setTimeout(function(){$(".modal").removeClass("modal-hide-animation"),$(".modal").removeClass("modal__show")},600),e.isModalShow=!1},a=function(e){o(),$(".modal").each(function(){$(this).data("modal")===e?$(this).addClass("modal__show"):$(this).removeClass("modal__show")});var t=$(window).height();$(".modal-filter").height(t)};$(".modal-get").click(function(){var e=$(this).data("modal");a(e)}),$(".modal-close, .modal-hide").click(function(){i()}),$(".js-toggle").click(function(){$(this).toggleClass("active")}),$(".js-commutator-el").click(function(){var e,t=$(this).data("item"),o=$(this).data("group")||!1,i=$(this).data("each")||!1;$(this).toggleClass("active"),e=$(".js-commutator-cont").data("group")?$(".js-commutator-cont[data-group="+o):$(".js-commutator-cont"),e.each(function(){$(this).data("item")===t?$(this).toggleClass("active"):!!i&&$(this).removeClass("active")})}),$(".js-switch").click(function(){var e=$(this).data("item"),t=$(this).data("each")||!1,o=$(this).closest(".js-switch-parrent");$(this).toggleClass("active");var i;i=$(".js-switch[data-item="+e),t&&(i.not(this).removeClass("active"),i.not(this).closest(".js-switch-parrent").find(".js-switch-cont").removeClass("active")),o.find(".js-switch-cont[data-item="+e+"]").toggleClass("active")});var l={};$(".incr__nav").click(function(){l.parent=$(this).closest(".incr"),l.value=parseInt($(this).closest(".incr").find(".incr__val span").html()),l.state=$(this).closest(".incr").find(".incr__val span")}),$(".incr__minus").click(function(){--l.value,l.parent.hasClass("incr--one")&&(l.value=l.value<1?1:l.value),l.value=l.value<1?0:l.value,l.state.html(l.value)}),$(".incr__plus").click(function(){++l.value,l.value=l.value>100?100:l.value,l.state.html(l.value)}),$(".incr-btn__el").click(function(){$(this).closest(".incr-btn").addClass("incr-btn--active")}),$(".incr-btn .incr__minus").click(function(){1===l.value?$(this).closest(".incr-btn").removeClass("incr-btn--active"):""}),$(".dropdown").click(function(){$(this).attr("tabindex",1).focus(),$(this).toggleClass("active"),$(this).find(".dropdown-menu").slideToggle(300)}),$(".dropdown").focusout(function(){$(this).removeClass("active"),$(this).find(".dropdown-menu").slideUp(300)}),$(".dropdown .dropdown-menu__el").click(function(){var e=$(this).parents(".dropdown");e.find(".dropdown-current__val").html($(this).html()),e.find("input").attr("value",$(this).data("value"))});var s=864e7,n=localStorage.getItem("localStorageInitTime");null===n?localStorage.setItem("localStorageInitTime",+new Date):+new Date-n>s&&(localStorage.setItem("localStorageInitTime",+new Date),localStorage.setItem("bubble","1")),"0"!=localStorage.getItem("bubble")&&setTimeout(function(){$(".cookie").addClass("cookie--active")},3e3),$(".cookie .icon-close").click(function(){$(this).closest(".cookie").removeClass("cookie--active"),localStorage.setItem("bubble","0")}),$("a[rel='m_PageScroll2id']").mPageScroll2id({highlightClass:"nav__el--active",onComplete:function(){$(".slide-block").removeClass("slide-block--open")}}),$(".validate-form").each(function(){$(this);$(this).validate({highlight:function(e){$(e).parent().addClass("input-row--error")},unhighlight:function(e){$(e).parent().removeClass("input-row--error")},rules:{name:{required:!0},phone:{required:!0,minlength:5},mail:{required:!0},comment:{required:!0,minlength:5},agree:{required:!0}},messages:{name:{required:"Обязательное поле"},phone:{required:"Обязательное поле",number:"Введите правильный номер",minlength:"Номер должен быть длиннее"},mail:{required:"Обязательное поле"},comment:{required:"Обязательное поле",minlength:"Сообщение должно быть длиннее"},agree:{required:!1}},submitHandler:function(e){$.ajax({type:"POST",url:"sender.php",data:$(e).serialize(),timeout:3e3,success:function(e){a("trueMsg"),setTimeout(function(){i(),$(":input",".validate-form").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected")},3e3)}})}})}),$(".js-slide-block-toggle").click(function(e){var t=$(this).data("menu");$(".slide-block").each(function(){$(this).data("menu")===t?$(this).toggleClass("slide-block--open"):$(this).removeClass("slide-block--open")})})});